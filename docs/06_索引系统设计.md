# 索引系统设计

## 概述
基于B+树的索引系统，支持高效的数据查找、插入和删除操作。

## 架构
```
IndexManager (索引管理器)
├── BPlusTreeIndex (B+树索引)
│   ├── BPlusInternalNode (内部节点)
│   └── BPlusLeafNode (叶子节点)
└── IndexKey (索引键管理)
```

## 核心特性
- **B+树结构**: 平衡树，支持范围查询
- **键类型支持**: INT, STRING类型
- **并发安全**: 支持多线程访问
- **持久化**: 索引数据持久化到磁盘

## 主要组件

### BPlusTreeIndex
- **功能**: B+树索引实现
- **支持操作**: 插入、删除、查找、范围查询
- **键类型**: 支持整数和字符串键

### IndexManager
- **功能**: 索引生命周期管理
- **职责**: 创建、删除、维护索引
- **接口**: 统一的索引操作接口

## 使用方式
```cpp
// 创建索引
IndexManager::CreateIndex("table_name", "column_name");

// 插入记录到索引
IndexManager::InsertRecord("table_name", record_id, key_value);

// 查找记录
std::vector<int> record_ids = IndexManager::FindRecords("table_name", key_value);

// 删除记录
IndexManager::DeleteRecord("table_name", record_id, key_value);
```

## 性能优化
- **节点缓存**: 热点节点内存缓存
- **批量操作**: 支持批量插入和删除
- **分裂合并**: 自动维护B+树平衡
- **预读机制**: 预测性页面加载

## 文件结构
```
include/bplus/
└── bplus_tree.h          # B+树索引定义

src/bplus/
└── bplus_tree.cpp        # B+树索引实现
```
